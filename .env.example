# ==============================================================================
# OpenSchichtplaner5 — Konfiguration
# Kopiere diese Datei nach .env und passe die Werte an:
#   cp .env.example .env
#
# Wird verwendet von:
#   - start.sh  (lokale Entwicklung ohne Docker)
#   - docker compose up  (Docker-Betrieb)
# ==============================================================================

# ------------------------------------------------------------------------------
# Datenbank (Pflicht)
# ------------------------------------------------------------------------------
# Lokaler Betrieb (start.sh): Pfad zum SP5-Datenbankverzeichnis auf dem Host
# Docker: Pfad innerhalb des Containers (Volume wird nach /app/sp5_db gemountet)
SP5_DB_PATH=../sp5_db/Daten

# ------------------------------------------------------------------------------
# Sicherheit
# ------------------------------------------------------------------------------
# JWT-Signierungsschlüssel — UNBEDINGT ändern!
# Generieren: python3 -c "import secrets; print(secrets.token_hex(32))"
# Oder:       openssl rand -hex 32
SECRET_KEY=change-me-in-production-use-openssl-rand-hex-32

# Erlaubte CORS-Origins (kommagetrennt, kein Leerzeichen)
# Produktion: nur die echte Domain eintragen, z.B. https://sp5.example.com
ALLOWED_ORIGINS=http://localhost:8000,http://localhost:5173

# HSTS-Header — NUR aktivieren wenn HTTPS via Reverse-Proxy vorhanden!
SP5_HSTS=false

# Dev-Modus — NIEMALS in Produktion aktivieren!
# Erlaubt den __dev_mode__ Token für Tests und den Role-Switcher.
SP5_DEV_MODE=false

# ------------------------------------------------------------------------------
# Server
# ------------------------------------------------------------------------------
HOST=0.0.0.0
PORT=8000

# Debug: true aktiviert Auto-Reload (nur für Entwicklung!)
DEBUG=false

# JWT-Token Gültigkeit in Stunden
TOKEN_EXPIRE_HOURS=8

# ------------------------------------------------------------------------------
# Rate Limiting
# ------------------------------------------------------------------------------
RATE_LIMIT_LOGIN=5/minute
RATE_LIMIT_API=200/minute
BRUTE_FORCE_MAX_ATTEMPTS=5
BRUTE_FORCE_LOCKOUT_MINUTES=15

# ------------------------------------------------------------------------------
# Logging
# ------------------------------------------------------------------------------
LOG_LEVEL=INFO
# Docker: /app/logs/sp5-api.log  |  Lokal: ./logs/sp5-api.log
LOG_FILE=./logs/sp5-api.log

# ------------------------------------------------------------------------------
# Session
# ------------------------------------------------------------------------------
SESSION_CLEANUP_INTERVAL_MINUTES=60
