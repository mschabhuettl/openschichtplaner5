# ==============================================================================
# OpenSchichtplaner5 — Backend-Konfiguration
# Kopiere diese Datei nach .env und passe die Werte an.
# ==============================================================================

# ------------------------------------------------------------------------------
# Datenbank
# ------------------------------------------------------------------------------
# Pfad zum SP5-Datenbankverzeichnis (Ordner, nicht Datei)
SP5_DB_PATH=/path/to/sp5_db/Daten

# ------------------------------------------------------------------------------
# Sicherheit
# ------------------------------------------------------------------------------
# Geheimschlüssel für JWT-Token-Signierung.
# Generieren: openssl rand -hex 32
SECRET_KEY=change-me-in-production-use-openssl-rand-hex-32

# Erlaubte Ursprünge für CORS (kommagetrennt, kein Leerzeichen)
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:8000

# ------------------------------------------------------------------------------
# Server
# ------------------------------------------------------------------------------
# IP-Adresse, auf der der Server lauscht (0.0.0.0 = alle Interfaces)
HOST=0.0.0.0

# TCP-Port des Backends
PORT=8000

# Debug-Modus: aktiviert uvicorn --reload und ausführlichere Fehlerausgaben
DEBUG=false

# Gültigkeitsdauer von Login-Tokens in Stunden
TOKEN_EXPIRE_HOURS=8

# ------------------------------------------------------------------------------
# Rate Limiting
# ------------------------------------------------------------------------------
# Maximale Login-Versuche pro Zeitfenster (Format: Zahl/Einheit)
# Einheiten: second, minute, hour, day
RATE_LIMIT_LOGIN=5/minute

# Maximale API-Anfragen pro Zeitfenster (allgemein)
RATE_LIMIT_API=200/minute

# Maximale fehlgeschlagene Loginversuche bevor ein Account gesperrt wird
BRUTE_FORCE_MAX_ATTEMPTS=5

# Sperrzeit nach zu vielen fehlgeschlagenen Loginversuchen (in Minuten)
BRUTE_FORCE_LOCKOUT_MINUTES=15

# ------------------------------------------------------------------------------
# Logging
# ------------------------------------------------------------------------------
# Log-Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Pfad zur Log-Datei. Leer lassen für nur-Konsole-Ausgabe.
LOG_FILE=/tmp/sp5-api.log

# ------------------------------------------------------------------------------
# Session
# ------------------------------------------------------------------------------
# Intervall in Minuten, in dem abgelaufene Sessions aus der Datenbank bereinigt werden
SESSION_CLEANUP_INTERVAL_MINUTES=60

# ------------------------------------------------------------------------------
# Sicherheits-Features
# ------------------------------------------------------------------------------
# HSTS-Header senden (Strict-Transport-Security) — NUR bei HTTPS aktivieren!
# Erfordert einen Reverse-Proxy (nginx/caddy) mit TLS-Terminierung.
SP5_HSTS=false

# Entwickler-Modus: aktiviert ein statisches Dev-Token zum einfachen Testen.
# NIEMALS in Produktion verwenden! Erlaubt Auth-Bypass!
SP5_DEV_MODE=false

# ------------------------------------------------------------------------------
# App-Metadaten
# ------------------------------------------------------------------------------
# Anwendungsname (wird in API-Dokumentation und Logs angezeigt)
APP_NAME=OpenSchichtplaner5

# Versionsnummer der Anwendung
APP_VERSION=1.0.0
